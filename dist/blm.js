!function(e,n){for(var t in n)e[t]=n[t]}(exports,function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){(function(n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * backbone.layoutmanager.js v1.0.0
 * Copyright 2016, Tim Branyen (@tbranyen)
 * backbone.layoutmanager.js may be freely distributed under the MIT license.
 */var i=t(2),o=t(3),a=t(4);i.$=i.$||o;var s=i.$,c="object"===(void 0===n?"undefined":r(n))?n:window,u=i.View,l=Array.prototype.concat,f=Array.prototype.splice,p=String.prototype.trim?a.bind(String.prototype.trim.call,String.prototype.trim):s.trim,m=i.View.extend({_render:function(){var e=this,n=e.__manager__,t=e.beforeRender;return new Promise(function(r,i){if(e.hasRendered&&e._removeViews(),n.callback=function(){delete n.isAsync,delete n.callback,e.trigger("beforeRender",e),e._viewRender(n).render().then(function(){return r()})},t){var o=t.call(e,e);if(o&&o.then&&(n.isAsync=!0,o.then(function(){n.callback(),r()},r)),!1===o)return void r()}n.isAsync||n.callback()})},_applyTemplate:function(e,n){var t=e;a.isString(t)&&(n.noel?(t=s.parseHTML(t,!0),this.$el.slice(1).remove(),this.$el.replaceWith(t),this.setElement(t,!1)):this.html(this.$el,t))},_viewRender:function(e){var n,t=this,r=function(r,i){return new Promise(function(o){var a;e.callback=function(n){delete e.isAsync,delete e.callback,t._applyTemplate(n,e),o()},m.cache(n,i),i&&(a=t.renderTemplate.call(t,i,r)),e.isAsync||(t._applyTemplate(a,e),o())})};return{render:function(){var i=t.serialize,o=t.template;return a.isFunction(i)&&(i=i.call(t)),new Promise(function(a,s){e.callback=function(n){delete e.isAsync,delete e.callback,r(i,n).then(function(){return a(t)})},"string"==typeof o&&(n=t.prefix+o);var c=m.cache(n);c?r(i,c).then(function(){return a(t)}):("string"==typeof o?c=t.fetchTemplate.call(t,t.prefix+o):"function"==typeof o?c=o:null!=o&&(c=t.fetchTemplate.call(t,o)),e.isAsync||r(i,c).then(function(){return a(t)}))})}}},constructor:function(e){this.manage=!0,a.extend(this,e);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];i.View.apply(this,[e].concat(t))},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred},renderViews:function(e){var n=this,t=n.__manager__,r=e,i=(r=r&&a.isArray(r)?a.chain(r):n.getViews(r)).map(function(e){return e.render().promise()});return t.renderDeferred=new Promise(function(e){return Promise.all(i).then(function(){return e(n)})}),n},insertView:function(e,n){return n?this.setView(e,n,!0):this.setView(e,!0)},insertViews:function(e){return a.isArray(e)?this.setViews({"":e}):(a.each(e,function(n,t){e[t]=a.isArray(n)?n:[n]}),this.setViews(e))},getView:function(e,n){var t=null!=e?e:n;return this.getViews(t).first().value()},getViews:function(e){var n;return"string"==typeof e?(e=this.sections[e]||e,n=this.views[e]||[],a.chain([].concat(n))):(n=a.chain(this.views).map(function(e){return a.isArray(e)?e:[e]},this).flatten(),"object"===r(e)?n.where(e):"function"==typeof e?n.filter(e):n)},removeView:function(e){var n=this.getViews(e).each(function(e){e.remove()});return n.value(),n},setView:function(e,n,t){"string"!=typeof e&&(t=n,n=e,e="");var r=n.__manager__;if(!r)throw new Error("The argument associated with selector '".concat(e,"' is defined and a View.  Set `manage` property to true for Backbone.View instances."));r.parent=this;var i=this.sections[e]||e;return r.selector=i,t?(this.views[i]=l.call([],this.views[e]||[],n),this.__manager__.insert=!0):(this.getView(e)!==n&&this.removeView(e),this.views[i]=n),n},setViews:function(e){var n=this;return a.each(e,function(e,t){a.isArray(e)?a.each(e,function(e){return n.insertView(t,e)}):n.setView(t,e)}),this},render:function(){var e=this,n=e.__manager__,t=n.parent,r=t&&t.__manager__,i=new Promise(function(i,o){function s(){function o(){var t=c.console,r=e.afterRender;r&&r.call(e,e),e.trigger("afterRender",e),n.noel&&e.$el.length>1&&a.isFunction(t.warn)&&!e.suppressWarnings&&(t.warn("`el: false` with multiple top level elements is not supported."),a.isFunction(t.trace)&&t.trace())}return a.each(e.views,function(n,t){a.isArray(n)&&e.htmlBatch(e,n,t)}),t&&!n.insertedViaFragment&&(e.contains(t.el,e.el)||t.partial(t.$el,e.$el,r,n)),e.delegateEvents(),e.hasRendered=!0,n.renderInProgress=!1,delete n.triggeredByRAF,n.queue&&n.queue.length?n.queue.shift()():delete n.queue,r&&(r.renderInProgress||r.queue)?t.once("afterRender",o):o(),i(e)}e._registerWithRAF(function(){e._render().then(function(){if(!a.keys(e.views).length)return s();var n=a.map(e.views,function(e){var n=a.isArray(e);return n&&e.length?a.map(e,function(e){return e.__manager__.insertedViaFragment=!0,e.render().promise()}):n?Promise.resolve(e):e.render().promise()});return Promise.all(a.flatten(n)).then(s),null})},{resolve:i,reject:o})});return n.renderInProgress=!0,n.renderDeferred=i,e},remove:function(){return m._removeView(this,!0),this._remove.apply(this,arguments)},_registerWithRAF:function(e,n){var t=this,r=t.__manager__,i=r.parent&&r.parent.__manager__;function o(){r.rafID=null,r.triggeredByRAF=!0,e()}!1!==this.useRAF?(r.deferreds=r.deferreds||[],r.deferreds.push(n),n.done(function(){for(var e=0;e<r.deferreds.length;e++)r.deferreds[e].resolveWith(t,[t]);r.deferreds=[]}),this._cancelQueuedRAFRender(),i&&i.triggeredByRAF?o():r.rafID=t.requestAnimationFrame(o)):r.queue?r.queue.push(e):(r.queue=[],e())},_cancelQueuedRAFRender:function(){var e=this.__manager__;null!=e.rafID&&this.cancelAnimationFrame(e.rafID)}},{_cache:{},_removeViews:function(e,n){"boolean"==typeof e&&(n=e,e=this),(e=e||this).getViews().each(function(e){(e.hasRendered||n)&&m._removeView(e,n)}).value()},_removeView:function(e,n){var t,r=e.__manager__,i=r.parent&&r.parent.__manager__;if(!("boolean"==typeof e.keep?e.keep:e.options.keep)&&i&&!0===i.insert||n){if(m.cleanViews(e),e._removeViews(!0),e.$el.remove(),e._cancelQueuedRAFRender(),!r.parent)return;if(t=r.parent.views[r.selector],a.isArray(t))return a.each(a.clone(t),function(e,n){e&&e.__manager__===r&&f.call(t,n,1)}),void(a.isEmpty(t)&&r.parent.trigger("empty",r.selector));delete r.parent.views[r.selector],r.parent.trigger("empty",r.selector)}},cache:function(e,n){return e in this._cache&&null==n?this._cache[e]:null!=e&&null!=n?(this._cache[e]=n,n):null},cleanViews:function(e){a.each(l.call([],e),function(e){e.trigger("cleanup",e),e.unbind(),e.model instanceof i.Model&&e.model.off(null,null,e),e.collection instanceof i.Collection&&e.collection.off(null,null,e),e.stopListening(),a.isFunction(e.cleanup)&&e.cleanup()})},configure:function(e){a.extend(m.prototype,e),e.manage&&(i.View.prototype.manage=!0),!1===e.el&&(i.View.prototype.el=!1),!0===e.suppressWarnings&&(i.View.prototype.suppressWarnings=!0),!1===e.useRAF&&(i.View.prototype.useRAF=!1),e._&&(a=e._)},setupView:function(e,n){n=a.extend({},n),a.each(l.call([],e),function(e){if(!e.__manager__){var t,r=m.prototype;a.defaults(e,{views:{},sections:{},__manager__:{},_removeViews:m._removeViews,_removeView:m._removeView},m.prototype),e.options=n,a.extend(e,n),e._remove=i.View.prototype.remove,e.render=m.prototype.render,e.remove!==r.remove&&(e._remove=e.remove,e.remove=r.remove);var o=n.views||e.views;a.keys(o).length&&(t=o,e.views={},a.each(t,function(n,r){"function"==typeof n&&(t[r]=n.call(e,e))}),e.setViews(t))}})}});m.VERSION="0.10.0",i.View.prototype.constructor=function(e){var n;("el"in(e=e||{})?!1===e.el:!1===this.el)&&(n=!0),(e.manage||this.manage)&&m.setupView(this,e),this.__manager__&&(this.__manager__.noel=n,this.__manager__.suppressWarnings=e.suppressWarnings);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];u.apply(this,[e].concat(r))},i.View=i.View.prototype.constructor,i.View.extend=u.extend,i.View.prototype=u.prototype;var h={prefix:"",useRAF:!0,deferred:function(){return s.Deferred()},fetchTemplate:function(e){return a.template(s(e).html())},renderTemplate:function(e,n){return p(e.call(this,n))},serialize:function(){return this.model?a.clone(this.model.attributes):{}},partial:function(e,n,t,r){var i;r.selector&&(e=t.noel&&(i=e.filter(r.selector)).length?i:e.find(r.selector)),t.insert?this.insert(e,n):this.html(e,n)},html:function(e,n){e.empty().append(n)},htmlBatch:function(e,n,t){var r=e.__manager__,i={selector:t},o=a.reduce(n,function(n,t){var r=("boolean"==typeof t.keep?t.keep:t.options.keep)&&s.contains(e.el,t.el);return t.el&&!r&&n.push(t.el),n},[]);return this.partial(e.$el,s(o),r,i)},insert:function(e,n){e.append(n)},when:function(e){return s.when.apply(null,e)},contains:function(e,n){return s.contains(e,n)},requestAnimationFrame:function(){for(var e=0,n=["ms","moz","webkit","o"],t=c.requestAnimationFrame,r=0;r<n.length&&!c.requestAnimationFrame;++r)t=c["".concat(n[r],"RequestAnimationFrame")];return t||(t=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-e)),i=c.setTimeout(function(){n(t+r)},r);return e=t+r,i}),a.bind(t,c)}(),cancelAnimationFrame:function(){for(var e=["ms","moz","webkit","o"],n=c.cancelAnimationFrame,t=0;t<e.length&&!c.cancelAnimationFrame;++t)n=c["".concat(e[t],"CancelAnimationFrame")]||c["".concat(e[t],"CancelRequestAnimationFrame")];return n||(n=function(e){clearTimeout(e)}),a.bind(n,c)}()};a.extend(m.prototype,h),i.Layout=m,e.exports=m}).call(this,t(1))},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n){e.exports=require("backbone")},function(e,n){e.exports=require("jquery")},function(e,n){e.exports=require("underscore")}]));